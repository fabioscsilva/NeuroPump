<%= form_for(@wm) do |f| %>
<% if @wm.errors.any? %>
<div id="error_explanation">
	<h2><%= pluralize(@wm.errors.count, "error") %> prohibited this wm from being saved:</h2>

	<ul>
		<% @wm.errors.full_messages.each do |msg| %>
		<li>
			<%= msg %>
		</li>
		<% end %>
	</ul>
</div>
<% end %>

<script language="JavaScript">
	function calculateTestResult(num, line) {
		var correctAnswers = 0;
		var row = "";
		var otherRow = "";

		if (num == 0) {
			row = document.getElementById("row" + line + "0");
			otherRow = document.getElementById("row" + line + "1");
		} else {
			row = document.getElementById("row" + line + "1");
			otherRow = document.getElementById("row" + line + "0");
		}

		if (num == 0 && otherRow.className == "btn btn-info active") {
			var total = document.getElementById("testResultTotal");
			var aux = +total.innerHTML;
			total.innerHTML = aux - 1;
			document.getElementById("hiddenResult_").value = total.innerHTML;
		} else {
			if ((num == 1 && otherRow.className == "btn btn-info active") || (num == 1 && otherRow.className == "btn btn-info" && row.className == "btn btn-info")) {
				var total = document.getElementById("testResultTotal");
				var aux = +total.innerHTML;
				total.innerHTML = aux + 1;
				document.getElementById("hiddenResult_").value = total.innerHTML;
			}
		}
	}

</script>

<% if session["wms_phase"] == 1 %>

<table id="" class="table table-bordered">
	<thead>
		<tr>
			<th>Item</th>
			<th>Ensaio</th>
			<th>Resposta</th>
			<th>
			<center>
				Pontuação
			</center></th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td rowspan="3">1. </td>
			<td>1</td>
			<td>L - 2 <label class="pull-right">(2 - L)</label></td>
			<td>
			<center>
				<div class="btn-group" data-toggle="buttons-radio">
					<button id="row10" type="button" onclick="calculateTestResult(0,1);" class="btn btn-info">
						0
					</button>
					<button id="row11" type="button" onclick="calculateTestResult(1,1);" class="btn btn-info">
						1
					</button>
				</div>
			</center></td>
		</tr>
		<tr>
			<td>2</td>
			<td>6 - P <label class="pull-right">(P - 6)</label></td>
			<td>
			<center>
				<div class="btn-group" data-toggle="buttons-radio">
					<button id="row20" type="button" onclick="calculateTestResult(0,2);" class="btn btn-info">
						0
					</button>
					<button id="row21" type="button" onclick="calculateTestResult(1,2);" class="btn btn-info">
						1
					</button>
				</div>
			</center></td>
		</tr>
		<tr>
			<td>3</td>
			<td>B - 5 <label class="pull-right">(5 - B)</label></td>
			<td>
			<center>
				<div class="btn-group" data-toggle="buttons-radio">
					<button id="row30" type="button" onclick="calculateTestResult(0,3);" class="btn btn-info">
						0
					</button>
					<button id="row31" type="button" onclick="calculateTestResult(1,3);" class="btn btn-info">
						1
					</button>
				</div>
			</center></td>
		</tr>
		<tr>
			<td rowspan="3">2. </td>
			<td>1</td>
			<td>F - 7 - L <label class="pull-right">(L - 7 - F)</label></td>
			<td>
			<center>
				<div class="btn-group" data-toggle="buttons-radio">
					<button id="row40" type="button" onclick="calculateTestResult(0,4);" class="btn btn-info">
						0
					</button>
					<button id="row41" type="button" onclick="calculateTestResult(1,4);" class="btn btn-info">
						1
					</button>
				</div>
			</center></td>
		</tr>
		<tr>
			<td>2</td>
			<td>R – 4 – D <label class="pull-right">(D - 4 - R)</label></td>
			<td>
			<center>
				<div class="btn-group" data-toggle="buttons-radio">
					<button id="row50" type="button" onclick="calculateTestResult(0,5);" class="btn btn-info">
						0
					</button>
					<button id="row51" type="button" onclick="calculateTestResult(1,5);" class="btn btn-info">
						1
					</button>
				</div>
			</center></td>
		</tr>
		<tr>
			<td>3</td>
			<td>H - 1 - 8 <label class="pull-right">(8 - 1 - H)</label></td>
			<td>
			<center>
				<div class="btn-group" data-toggle="buttons-radio">
					<button id="row60" type="button" onclick="calculateTestResult(0,6);" class="btn btn-info">
						0
					</button>
					<button id="row61" type="button" onclick="calculateTestResult(1,6);" class="btn btn-info">
						1
					</button>
				</div>
			</center></td>
		</tr>
		<tr>
			<td rowspan="3">3. </td>
			<td>1</td>
			<td>T - 9 - A - 3 <label class="pull-right">(3 - A - 9 - T)</label></td>
			<td>
			<center>
				<div class="btn-group" data-toggle="buttons-radio">
					<button id="row70" type="button" onclick="calculateTestResult(0,7);" class="btn btn-info">
						0
					</button>
					<button id="row71" type="button" onclick="calculateTestResult(1,7);" class="btn btn-info">
						1
					</button>
				</div>
			</center></td>
		</tr>
		<tr>
			<td>2</td>
			<td>V - 1 - J - 5 <label class="pull-right">(5 - J - 1 - V)</label></td>
			<td>
			<center>
				<div class="btn-group" data-toggle="buttons-radio">
					<button id="row80" type="button" onclick="calculateTestResult(0,8);" class="btn btn-info">
						0
					</button>
					<button id="row81" type="button" onclick="calculateTestResult(1,8);" class="btn btn-info">
						1
					</button>
				</div>
			</center></td>
		</tr>
		<tr>
			<td>3</td>
			<td>7 - N - 4 - L <label class="pull-right">(L - 4 - N - 7)</label></td>
			<td>
			<center>
				<div class="btn-group" data-toggle="buttons-radio">
					<button id="row90" type="button" onclick="calculateTestResult(0,9);" class="btn btn-info">
						0
					</button>
					<button id="row91" type="button" onclick="calculateTestResult(1,9);" class="btn btn-info">
						1
					</button>
				</div>
			</center></td>
		</tr>
		<tr>
			<td rowspan="3">4. </td>
			<td>1</td>
			<td>8 - D - 6 - G - 1 <label class="pull-right">(1 - G - 6 - D - 8)</label></td>
			<td>
			<center>
				<div class="btn-group" data-toggle="buttons-radio">
					<button id="row100" type="button" onclick="calculateTestResult(0,10);" class="btn btn-info">
						0
					</button>
					<button id="row101" type="button" onclick="calculateTestResult(1,10);" class="btn btn-info">
						1
					</button>
				</div>
			</center></td>
		</tr>
		<tr>
			<td>2</td>
			<td>L - 2 - C - 7 - S <label class="pull-right">(S - 7 - C - 2 - L)</label></td>
			<td>
			<center>
				<div class="btn-group" data-toggle="buttons-radio">
					<button id="row110" type="button" onclick="calculateTestResult(0,11);" class="btn btn-info">
						0
					</button>
					<button id="row111" type="button" onclick="calculateTestResult(1,11);" class="btn btn-info">
						1
					</button>
				</div>
			</center></td>
		</tr>
		<tr>
			<td>3</td>
			<td>5 - P - 3 - Z - 9 <label class="pull-right">(9 - Z - 3 - P - 5)</label></td>
			<td>
			<center>
				<div class="btn-group" data-toggle="buttons-radio">
					<button id="row120" type="button" onclick="calculateTestResult(0,12);" class="btn btn-info">
						0
					</button>
					<button id="row121" type="button" onclick="calculateTestResult(1,12);" class="btn btn-info">
						1
					</button>
				</div>
			</center></td>
		</tr>
		<tr>
			<td rowspan="3">5. </td>
			<td>1</td>
			<td>M - 4 - E - 7 - Q - 2 <label class="pull-right">(2 - Q - 7 - E - 4 - M)</label></td>
			<td>
			<center>
				<div class="btn-group" data-toggle="buttons-radio">
					<button id="row130" type="button" onclick="calculateTestResult(0,13);" class="btn btn-info">
						0
					</button>
					<button id="row131" type="button" onclick="calculateTestResult(1,13);" class="btn btn-info">
						1
					</button>
				</div>
			</center></td>
		</tr>
		<tr>
			<td>2</td>
			<td>X - 8 - H - 5 - F - 3 <label class="pull-right">(3 - F - 5 - H - 8 - X)</label></td>
			<td>
			<center>
				<div class="btn-group" data-toggle="buttons-radio">
					<button id="row140" type="button" onclick="calculateTestResult(0,14);" class="btn btn-info">
						0
					</button>
					<button id="row141" type="button" onclick="calculateTestResult(1,14);" class="btn btn-info">
						1
					</button>
				</div>
			</center></td>
		</tr>
		<tr>
			<td>3</td>
			<td>6 - G - 9 - A - 2 - S <label class="pull-right">(S - 2 - A - 9 - G - 6)</label></td>
			<td>
			<center>
				<div class="btn-group" data-toggle="buttons-radio">
					<button id="row150" type="button" onclick="calculateTestResult(0,15);" class="btn btn-info">
						0
					</button>
					<button id="row151" type="button" onclick="calculateTestResult(1,15);" class="btn btn-info">
						1
					</button>
				</div>
			</center></td>
		</tr>
		<tr>
			<td rowspan="3">6. </td>
			<td>1</td>
			<td>R – 3 – B – 4 – Z – 1 – C <label class="pull-right">(C - 1 - Z - 4 - B - 3 - R)</label></td>
			<td>
			<center>
				<div class="btn-group" data-toggle="buttons-radio">
					<button id="row160" type="button" onclick="calculateTestResult(0,16);" class="btn btn-info">
						0
					</button>
					<button id="row161" type="button" onclick="calculateTestResult(1,16);" class="btn btn-info">
						1
					</button>
				</div>
			</center></td>
		</tr>
		<tr>
			<td>2</td>
			<td>5 – T – 9 – J – 2 – X – 7 <label class="pull-right">(7 - X - 2 - J - 9 - T - 5)</label></td>
			<td>
			<center>
				<div class="btn-group" data-toggle="buttons-radio">
					<button id="row170" type="button" onclick="calculateTestResult(0,17);" class="btn btn-info">
						0
					</button>
					<button id="row171" type="button" onclick="calculateTestResult(1,17);" class="btn btn-info">
						1
					</button>
				</div>
			</center></td>
		</tr>
		<tr>
			<td>3</td>
			<td>E – 1 – H – 8 – R – 4 – D <label class="pull-right">(D - 4 - R - 8 - H - 1 - E)</label></td>
			<td>
			<center>
				<div class="btn-group" data-toggle="buttons-radio">
					<button id="row180" type="button" onclick="calculateTestResult(0,18);" class="btn btn-info">
						0
					</button>
					<button id="row181" type="button" onclick="calculateTestResult(1,18);" class="btn btn-info">
						1
					</button>
				</div>
			</center></td>
		</tr>
		<tr>
			<td rowspan="3">7. </td>
			<td>1</td>
			<td>5 – H – 9 – S – 2 – N – 6 – A <label class="pull-right">(A - 6 - N - 2 - S - 9 - H - 5)</label></td>
			<td>
			<center>
				<div class="btn-group" data-toggle="buttons-radio">
					<button id="row190" onclick="calculateTestResult(0,19);" type="button" class="btn btn-info">
						0
					</button>
					<button id="row191" type="button" onclick="calculateTestResult(1,19);" class="btn btn-info">
						1
					</button>
				</div>
			</center></td>
		</tr>
		<tr>
			<td>2</td>
			<td>D – 1 – R – 9 – B – 4 – L – 3 <label class="pull-right">(3 - L - 4 - B - 9 - R - 1 - D)</label></td>
			<td>
			<center>
				<div class="btn-group" data-toggle="buttons-radio">
					<button id="row200" type="button" onclick="calculateTestResult(0,20);" class="btn btn-info">
						0
					</button>
					<button id="row201" type="button" onclick="calculateTestResult(1,20);" class="btn btn-info">
						1
					</button>
				</div>
			</center></td>
		</tr>
		<tr>
			<td>3</td>
			<td>7 – M – 2 – T – 6 – F – 1 – Z <label class="pull-right">(Z - 1 - F - 6 - T - 2 - M - 7)</label></td>
			<td>
			<center>
				<div class="btn-group" data-toggle="buttons-radio">
					<button id="row210" type="button" onclick="calculateTestResult(0,21);" class="btn btn-info">
						0
					</button>
					<button id="row211" type="button" onclick="calculateTestResult(1,21);" class="btn btn-info">
						1
					</button>
				</div>
			</center></td>
		</tr>
		<tr>
			<td colspan="3"><label class="pull-right">Total:</label></td>
			<td>
			<center>
				<%= hidden_field 'hiddenResult', nil %>
				<label id="testResultTotal">0</label>
			</center></td>
		</tr>
	</tbody>
</table>

<% else %>

<table id="" class="table table-hover table-bordered table-striped">
	<thead>
		<tr>
			<th>Item</th>
			<th>Ensaio</th>
			<th>Resposta</th>
			<th>
			<center>
				Pontuação
			</center></th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td rowspan="2">1. </td>
			<td>1</td>
			<td>3- 10</td>
			<td>
			<center>
				<div class="btn-group" data-toggle="buttons-radio">
					<button id="row10" type="button" onclick="calculateTestResult(0,1);" class="btn btn-info">
						0
					</button>
					<button id="row11" type="button" onclick="calculateTestResult(1,1);" class="btn btn-info">
						1
					</button>
				</div>
			</center></td>
		</tr>
		<tr>
			<td>2</td>
			<td>7 - 4</td>
			<td>
			<center>
				<div class="btn-group" data-toggle="buttons-radio">
					<button id="row20" type="button" onclick="calculateTestResult(0,2);" class="btn btn-info">
						0
					</button>
					<button id="row21" type="button" onclick="calculateTestResult(1,2);" class="btn btn-info">
						1
					</button>
				</div>
			</center></td>
		</tr>
		<tr>
			<td rowspan="2">2. </td>
			<td>1</td>
			<td>1 - 9 - 3</td>
			<td>
			<center>
				<div class="btn-group" data-toggle="buttons-radio">
					<button id="row30" type="button" onclick="calculateTestResult(0,3);" class="btn btn-info">
						0
					</button>
					<button id="row31" type="button" onclick="calculateTestResult(1,3);" class="btn btn-info">
						1
					</button>
				</div>
			</center></td>
		</tr>
		<tr>
			<td>2</td>
			<td>8 - 2 - 7</td>
			<td>
			<center>
				<div class="btn-group" data-toggle="buttons-radio">
					<button id="row40" type="button" onclick="calculateTestResult(0,4);" class="btn btn-info">
						0
					</button>
					<button id="row41" type="button" onclick="calculateTestResult(1,4);" class="btn btn-info">
						1
					</button>
				</div>
			</center></td>
		</tr>
		<tr>
			<td rowspan="2">3. </td>
			<td>1</td>
			<td>4 - 9 - 1 - 6</td>
			<td>
			<center>
				<div class="btn-group" data-toggle="buttons-radio">
					<button id="row50" type="button" onclick="calculateTestResult(0,5);" class="btn btn-info">
						0
					</button>
					<button id="row51" type="button" onclick="calculateTestResult(1,5);" class="btn btn-info">
						1
					</button>
				</div>
			</center></td>
		</tr>
		<tr>
			<td>2</td>
			<td>10 – 6 – 2 – 7</td>
			<td>
			<center>
				<div class="btn-group" data-toggle="buttons-radio">
					<button id="row60" type="button" onclick="calculateTestResult(0,6);" class="btn btn-info">
						0
					</button>
					<button id="row61" type="button" onclick="calculateTestResult(1,6);" class="btn btn-info">
						1
					</button>
				</div>
			</center></td>
		</tr>
		<tr>
			<td rowspan="2">4. </td>
			<td>1</td>
			<td>6 – 5 – 1 – 4 – 8 </td>
			<td>
			<center>
				<div class="btn-group" data-toggle="buttons-radio">
					<button id="row70" type="button" onclick="calculateTestResult(0,7);" class="btn btn-info">
						0
					</button>
					<button id="row71" type="button" onclick="calculateTestResult(1,7);" class="btn btn-info">
						1
					</button>
				</div>
			</center></td>
		</tr>
		<tr>
			<td>2</td>
			<td>5 – 7 – 9 – 8 – 2</td>
			<td>
			<center>
				<div class="btn-group" data-toggle="buttons-radio">
					<button id="row80" type="button" onclick="calculateTestResult(0,8);" class="btn btn-info">
						0
					</button>
					<button id="row81" type="button" onclick="calculateTestResult(1,8);" class="btn btn-info">
						1
					</button>
				</div>
			</center></td>
		</tr>
		<tr>
			<td rowspan="2">5. </td>
			<td>1</td>
			<td>4 – 1 – 9 – 3 – 8 – 10</td>
			<td>
			<center>
				<div class="btn-group" data-toggle="buttons-radio">
					<button id="row90" type="button" onclick="calculateTestResult(0,9);" class="btn btn-info">
						0
					</button>
					<button id="row91" type="button" onclick="calculateTestResult(1,9);" class="btn btn-info">
						1
					</button>
				</div>
			</center></td>
		</tr>
		<tr>
			<td>2</td>
			<td>9 – 2 – 6 – 7 – 3 – 5</td>
			<td>
			<center>
				<div class="btn-group" data-toggle="buttons-radio">
					<button id="row100" type="button" onclick="calculateTestResult(0,10);" class="btn btn-info">
						0
					</button>
					<button id="row101" type="button" onclick="calculateTestResult(1,10);" class="btn btn-info">
						1
					</button>
				</div>
			</center></td>
		</tr>
		<tr>
			<td rowspan="2">6. </td>
			<td>1</td>
			<td>10 – 1 – 6 – 4 – 8 – 5 – 7</td>
			<td>
			<center>
				<div class="btn-group" data-toggle="buttons-radio">
					<button id="row110" type="button" onclick="calculateTestResult(0,11);" class="btn btn-info">
						0
					</button>
					<button id="row111" type="button" onclick="calculateTestResult(1,11);" class="btn btn-info">
						1
					</button>
				</div>
			</center></td>
		</tr>
		<tr>
			<td>2</td>
			<td>2 – 6 – 3 – 8 – 2 – 10 – 1 </td>
			<td>
			<center>
				<div class="btn-group" data-toggle="buttons-radio">
					<button id="row120" type="button" onclick="calculateTestResult(0,12);" class="btn btn-info">
						0
					</button>
					<button id="row121" type="button" onclick="calculateTestResult(1,12);" class="btn btn-info">
						1
					</button>
				</div>
			</center></td>
		</tr>
		<tr>
			<td rowspan="2">7. </td>
			<td>1</td>
			<td>7 – 3 – 10 – 5 – 7 – 8 – 4 – 9</td>
			<td>
			<center>
				<div class="btn-group" data-toggle="buttons-radio">
					<button id="row130" type="button" onclick="calculateTestResult(0,13);" class="btn btn-info">
						0
					</button>
					<button id="row131" type="button" onclick="calculateTestResult(1,13);" class="btn btn-info">
						1
					</button>
				</div>
			</center></td>
		</tr>
		<tr>
			<td>2</td>
			<td>6 – 9 – 3 – 2 – 1 – 7 – 10 – 5</td>
			<td>
			<center>
				<div class="btn-group" data-toggle="buttons-radio">
					<button id="row140" type="button" onclick="calculateTestResult(0,14);" class="btn btn-info">
						0
					</button>
					<button id="row141" type="button" onclick="calculateTestResult(1,14);" class="btn btn-info">
						1
					</button>
				</div>
			</center></td>
		</tr>
		<tr>
			<td rowspan="2">8. </td>
			<td>1</td>
			<td>5 – 8 – 4 – 10 – 7 – 3 – 1 – 9 - 6</td>
			<td>
			<center>
				<div class="btn-group" data-toggle="buttons-radio">
					<button id="row150" type="button" onclick="calculateTestResult(0,15);" class="btn btn-info">
						0
					</button>
					<button id="row151" type="button" onclick="calculateTestResult(1,15);" class="btn btn-info">
						1
					</button>
				</div>
			</center></td>
		</tr>
		<tr>
			<td>2</td>
			<td>8 – 2 – 6 – 1 – 10 – 3 – 7 – 4 – 9</td>
			<td>
			<center>
				<div class="btn-group" data-toggle="buttons-radio">
					<button id="row160" type="button" onclick="calculateTestResult(0,16);" class="btn btn-info">
						0
					</button>
					<button id="row161" type="button" onclick="calculateTestResult(1,16);" class="btn btn-info">
						1
					</button>
				</div>
			</center></td>
		</tr>
		<tr>
			<td colspan="3"><label class="pull-right">Total:</label></td>
			<td>
			<center>
				<%= hidden_field 'hiddenResult', nil %>
				<label id="testResultTotal">0</label>
			</center></td>
		</tr>
	</tbody>
</table>

<%end %>

<div>
	<label>Observações</label>
	<%= f.text_area :observations, :class => "span12", :placeholder => "Insira as suas observações", :rows=> "5"%>

</div>

<% if session["wms_phase"] == 1 %>
	<div class="pull-right">
		<%= f.submit :class=>"btn btn-success", :value => "Próximo"%>
	</div>
<% else %>
	<%if session["test_sequence"].blank? %>
		<div class="pull-right">
			<%= f.submit :class=>"btn btn-success", :value => "Terminar"%>
		</div>
	<%else %>
		<div class="pull-right">
			<%= f.submit :class=>"btn btn-success", :value => "Próximo"%>
		</div>
	<%end%>
<% end %>


<% end %>
